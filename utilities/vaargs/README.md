# printf proving grounds 

Here live a number of bare implementations of `printf`. 

### Overview


Our goal is to find the simplest implementation of `printf` (really, `sprintf`)
in terms of external library calls. So far, this has been the implementation for
embedded systems by [mpaland](https://github.com/mpaland/printf) and its more
up-to-date fork by [eyalroz](https://github.com/eyalroz/printf) on github. 

Several other versions of `printf.c` also live here: the `glibc` implementation
and the `apple` implementation. These, however, both reference numerous external
libraries and even compiling them is a challenge. 

The main advantage of the embedded versions is that they rely on *extremely* few
external libraries: just `stdbool.h` and `stdint.h`. They print characters with
`putchar`; this could be modified to fit our `puts` structure. 

The embedded implementations of `printf` live in `dev`, detailed in **Directory
Structure** below. These both build with `clang -emit-llvm -S printf.c`. Full
repositories of the two embedded versions, with more sophisticated `Makefile`
and test suite. I have made minimal modifications to the files in order to get
them to compile-- fixing include paths and filling in the `_putchar` wrapper
with a call to system `putchar`. 


### Directory Structure

`dev`: Where current work lives. 

The current simplest versions of `printf.c`, taken from the public repos
maintained by [mpaland](https://github.com/mpaland/printf) and
[eyalroz](https://github.com/eyalroz/printf) (both MIT Licensed), live in 

`dev/working/simpler` 

and 

`dev/working/complex`, 

respectively (eyalroz's version is maintained and has more bells and whistles). 

Their corresponding `printf.ll` is also included, as generated by `clang
-emit-llvm -S printf.c` with `clang` version 14.0.6. 

<br>

`versions`: All gathered versions of `printf.c` live here. Includes `printf`
from `glibc`, `apple`, and the full repositories of the two embedded versions,
with more sophisticated `Makefile` and test suite. I've removed the `.git` from
each to avoid creating more submodules and added a `repo-link.md` which links
directly to the github repository in case others want to take a look. 
